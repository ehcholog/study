# HTTP
## HTTP란?
- HTTP는 HyperText Transfer Protocol의 줄임말로 WWW 상에서 사용하는 프로토콜이다.
- 1990년대 팀 버너스 리가 월드 와이드 웹을 만들어서 하이퍼텍스트 문서들을 주고 받기 위한 규약으로 만든 것이 HTTP이다.
- 현재에는 문서들 뿐만 아니라 이미지, 비디오, 음성 등 거의 모든 형식의 데이터를 전송하는데 사용되고 있다.
- HTTP는 서버와 클라이언트 사이에 요청과 응답을 주고 받는 프로토콜로 우리가 흔히 웹 브라우저 주소창에 입력하는 웹 주소인 URL을 통해 요청과 응답이 이루어진다.
- 실제 전송은 TCP를 통해 이루어지며 포트는 80번을 이용한다.

## HTTP 메시지 구조
- HTTP 메시지는 ASCII로 인코딩 된 텍스트로 되어 있다.
- 기본적인 구조는 다음과 같다.
![image](https://github.com/ehcholog/study/assets/135564811/ec806dd2-25b3-4de9-a5e0-591b47182892)
- HTTP 메시지는 기본적으로 클라이언트가 요청하고 서버가 응답하는 구조이기 때문에 메시지는 요청이냐 응답이냐에 따라 각 메시지의 구성 내용이 달라진다.
![image](https://github.com/ehcholog/study/assets/135564811/25cc4f48-09cf-4e57-b083-302fe81fcb19)

## HTTP 메서드
- HTTP 메서드는 클라이언트가 서버에 요청의 목적 및 종류를 알리는 수단이다.
- HTTP 요청 시에 메시지 시작줄에 표시된다.
- Restful API 구조 등이 많이 사용되기 때문에 주로 GET, POST, PUT, DELETE 정도의 메서드 위주로 알아두면 좋다.
![image](https://github.com/ehcholog/study/assets/135564811/ed1d4040-68bd-4809-8579-66dcc66d4402)

## HTTP 헤더
- HTTP 메시지 구조를 보면 HTTP 헤더가 들어가는데 요청/응답 헤더, general 헤더, entity 헤더로 구분된다.
- 헤더는 기본적으로 key : value 방식으로 표기되며, 헤더 안에 들어갈 수 있는 종류는 매우 많다.
- 하지만 주로 많이 사용되는 헤더들을 정리해 보자면 다음과 같다.

### 요청(request) 헤더
![image](https://github.com/ehcholog/study/assets/135564811/315ff77f-cc00-4f84-9475-521342a156fe)

### 응답(response) 헤더
![image](https://github.com/ehcholog/study/assets/135564811/1a49c01a-79dd-47fb-954e-6b6c68571dbc)

### general 헤더
![image](https://github.com/ehcholog/study/assets/135564811/a0f6b1c1-18c6-4f4f-867a-e7bf04c7e201)

### entity 헤더 (body가 없는 경우 전송되지 않음)
![image](https://github.com/ehcholog/study/assets/135564811/fefb8ceb-3d52-456c-af21-8cdbfb12dbd8)

## HTTP 상태코드
- HTTP 상태코드는 응답 메시지 중에서도 start-line에 표기된다.
- HTTP 상태코드는 요청에 대한 처리 결과를 알려준다.
- HTTP 상태코드는 3자리 숫자로 표현하는데 100대부터 500대까지 있다.
- HTTP 상태코드 별 값과 의미가 다양하지만 각 번호대의 대략적인 의미는 다음과 같다.
```
- 1xx : 정보성
- 2xx : 성공
- 3xx : 리다이렉션
- 4xx : 클라이언트 오류
- 5xx : 서버 오류
```

*참고 : https://noahlogs.tistory.com/34

# GET과 POST
## GET이란?
- GET은 클라이언트에서 서버로 어떠한 리소스로부터 정보를 요청하기 위해 사용되는 메서드이다.
- GET을 통한 요청을 URL 주소 끝에 파라미터로 포함되어 전송되며, 이 부분을 **쿼리 스트링(Query String)** 이라고 부른다.
- 방식은 URL 끝에 "?"를 붙이고 그 다음 "변수명1=값1&변수명2=값2..." 형식으로 이어 붙인다.  
``예) www.example.com/show?name=value1&name2=value2``

## GET의 특징
- GET 요청은 캐시가 가능하다. GET을 통해 서버에 리소스를 요청할 때 웹 캐시가 요청을 가로채 서버로부터 리소스를 다시 다운로드 하는 대신 리소스의 복사본을 반환한다. HTTP 헤더에서 cache-control 헤더를 통해 캐시 옵션을 지정할 수 있다.
- GET 요청은 브라우저 히스토리에 남는다.
- GET 요청은 북마크 될 수 있다.
- GET 요청은 길이 제한이 있다. GET 요청의 길이 제한은 표준이 따로 있는건 아니고 브라우저마다 제한이 다르다고 한다.
- GET 요청은 파라미터에 정보가 다 노출되기 때문에 보안상 중요한 정보를 다루면 안된다.
- GET 요청은 데이터를 요청할 때만 사용된다.

## POST란?
- POST는 클라이언트에서 서버로 리소스를 생성하거나 업데이트하기 위해 데이터를 보낼 때 사용되는 메서드이다.
- POST는 전송할 데이터를 HTTP 메시지 body 부분에 담아서 서버로 보낸다. (body의 타입은 Content-Type 헤더에 따라 결정된다.)
- GET에서 URL의 파라미터로 보냈던 "name1=value1&name2=value2..."가 body에 담겨 보내진다고 보면 된다.
- POST로 데이터를 전송할 때 길이 제한이 따로 없어 용량이 큰 데이터를 보낼 때 사용하거나 GET처럼 데이터가 외부적으로 드러나는건 아니라서 보안이 필요한 부분에 많이 사용된다.
- 하지만 데이터를 암호화하지 않으면 body의 데이터도 결국 볼 수 있는건 똑같다.

## POST의 특징
- POST 요청은 캐시되지 않는다.
- POST 요청은 브라우저 히스토리에 남지 않는다.
- POST 요청은 북마크되지 않는다.
- POST 요청은 데이터 길이에 제한이 없다.

## GET과 POST의 차이점
- 사용목적 : GET은 서버의 리소스에서 데이터를 요청할 때, POST는 서버의 리소스를 새로 생성하거나 업데이트 할 때 사용한다. DB로 따지면 GET은 SELECT에 가깝고 POST는 CREATE에 가깝다고 보면 된다.
- 요청에 body 유무 : GET은 URL 파라미터에 요청하는 데이터를 담아 보내기 때문에 HTTP 메시지에 body가 없다. POST는 body에 데이터를 담아 보내기 때문에 당연히 HTTP 메시지에 body가 존재한다.
- 멱등성(Idempotent) : GET 요청은 멱등이며, POST는 멱등이 아니다.

*멱등이란?  
멱등의 사전적 정의는 연산은 여러 번 적용하더라도 결과가 달라지지 않는 성질을 의미한다. GET은 리소스를 조회한다는 점에서 여러 번 요청하더라도 응답이 똑같을 것이다. 반대로 POST는 리소스를 새로 생성하거나 업데이트할 때 사용되기 때문에 멱등이 아니라고 볼 수 있다.

*참고 : https://noahlogs.tistory.com/34
